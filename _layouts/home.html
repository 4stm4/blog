---
layout: default
---
<div class="home">
  {%- assign hero_title = page.hero_title | default: page.title | default: "Живой блог инженера" -%}
  {%- assign hero_lead = page.intro_lead | default: "Решения, инструкции и заметки об инфраструктуре, программировании и железе на практике." -%}
  <section class="hero">
    <p class="hero-kicker">{{ page.hero_kicker | default: "Blog 4stm4" }}</p>
    <h1 class="hero-title">{{ hero_title }}</h1>
    <p class="hero-lead">{{ hero_lead }}</p>
    <div class="hero-actions">
      <a class="btn-primary" href="{{ '/categories/' | relative_url }}">Исследовать темы</a>
      <a class="btn-secondary" href="mailto:{{ site.email }}">Обсудить задачу</a>
    </div>
  </section>

  {%- if content -%}
  <section class="intro-section">
    {{ content }}
  </section>
  {%- endif -%}

  {%- if site.categories and site.categories.size > 0 -%}
  <section class="topic-section" aria-labelledby="topic-heading">
    <div class="section-heading">
      <h2 id="topic-heading">Популярные направления</h2>
      <a class="section-link" href="{{ '/categories/' | relative_url }}">Все категории</a>
    </div>
    <div class="topic-grid">
      {%- assign sorted_categories = site.categories | sort_natural -%}
      {%- for category in sorted_categories limit:6 -%}
      {%- assign category_name = category[0] -%}
      {%- assign posts_in_category = category[1] -%}
      {%- assign category_anchor = category_name | slugify -%}
      <a class="topic-chip" href="{{ '/categories/#' | append: category_anchor | relative_url }}">
        <span class="topic-name">{{ category_name | replace: '_', ' ' | capitalize }}</span>
        <span class="topic-count">{{ posts_in_category | size }} материалов</span>
      </a>
      {%- endfor -%}
    </div>
  </section>
  {%- endif -%}

  {%- if paginator -%}
    {%- assign posts_collection = paginator.posts -%}
  {%- else -%}
    {%- assign posts_collection = site.posts -%}
  {%- endif -%}

  {%- if posts_collection and posts_collection.size > 0 -%}
  <section class="posts-section" aria-labelledby="posts-heading">
    <div class="section-heading">
      <h2 id="posts-heading">Новые материалы</h2>
      <a class="section-link" href="{{ '/categories/' | relative_url }}">Выбрать по интересам</a>
    </div>
    <div class="post-grid">
      {%- assign date_format = site.minima.date_format | default: "%d.%m.%Y" -%}
      {%- for post in posts_collection limit:6 -%}
      <article class="post-card">
        <a class="post-card-link" href="{{ post.url | relative_url }}">
          <h3 class="post-title">{{ post.title | escape }}</h3>
        </a>
        <p class="post-meta">
          <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: date_format }}</time>
          {%- if post.categories and post.categories.size > 0 -%}
          ·
          <span class="post-categories">
            {%- for category in post.categories -%}
            <span class="post-category">{{ category | replace: '_', ' ' | capitalize }}</span>{% unless forloop.last %}, {% endunless %}
            {%- endfor -%}
          </span>
          {%- endif -%}
        </p>
        <p class="post-excerpt">{{ post.description | default: post.excerpt | strip_html | truncate: 160 }}</p>
        <a class="post-readmore" href="{{ post.url | relative_url }}" aria-label="Читать статью {{ post.title | escape }}">Читать далее</a>
      </article>
      {%- endfor -%}
    </div>
  </section>
  {%- endif -%}

  <section id="subscribe" class="subscribe-section" aria-labelledby="subscribe-heading">
    <div class="subscribe-inner">
      <div>
        <h2 id="subscribe-heading">Подпишитесь на обновления</h2>
        <p>Получайте свежие инструкции и обзоры о Linux, Raspberry Pi, сетевой безопасности и архитектуре систем. Без спама — только дело.</p>
      </div>
      <div class="subscribe-actions">
        <a class="btn-primary" href="mailto:{{ site.email }}?subject=Подписка%20на%20блог">Получать новости</a>
        <a class="btn-secondary" href="{{ '/feed.xml' | relative_url }}">Получать через RSS</a>
      </div>
    </div>
  </section>
</div>
