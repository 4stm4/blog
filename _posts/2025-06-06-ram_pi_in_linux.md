---
layout: post
title:  "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –Ω–∞ Raspberry Pi –≤ Linux"
date:   2025-06-06 22:22:00 +0500
categories: hardware
---

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –Ω–∞ Raspberry Pi –≤ Linux —Å–∏—Å—Ç–µ–º–∞—Ö

###  –í–≤–µ–¥–µ–Ω–∏–µ

Raspberry Pi ‚Äî —ç—Ç–æ –º–∞–ª–æ–º–æ—â–Ω—ã–π –æ–¥–Ω–æ–ø–ª–∞—Ç–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –æ–±—ä—ë–º–æ–º –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (–æ—Ç 512MB –¥–æ 8GB). –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ –¥–∞–∂–µ –ª—ë–≥–∫–∏—Ö –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π. –≠—Ç–∞ —Å—Ç–∞—Ç—å—è ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º –∫–ª—é—á–µ–≤—ã–º –∞—Å–ø–µ–∫—Ç–∞–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –Ω–∞ Raspberry Pi: swap, ZRAM, slab, –∫–µ—à, OOM killer –∏ –¥–∞–∂–µ NUMA-—ç—Ñ—Ñ–µ–∫—Ç—ã.

---

##  1. –û–±–∑–æ—Ä –ø–∞–º—è—Ç–∏ –Ω–∞ Raspberry Pi

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LPDDR2/LPDDR4 RAM, –ø—Ä–∏–ø–∞—è–Ω–Ω–∞—è –Ω–∞ –ø–ª–∞—Ç—É.
* –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å 1‚Äì2GB –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –∏–ª–∏ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∞.
* –°–∏—Å—Ç–µ–º—ã —Å 8GB RAM (–Ω–∞–ø—Ä–∏–º–µ—Ä, Raspberry Pi 4/5) –º–æ–≥—É—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å NUMA-–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –Ω–∞ –ø–∞–º—è—Ç—å.

---

##  2. Swap –∏ ZRAM –Ω–∞ Raspberry Pi

–ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å –∏—Å—á–µ—Ä–ø–∞–Ω–∞, Linux –º–æ–∂–µ—Ç –≤—ã–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ **–≤—Ç–æ—Ä–∏—á–Ω—É—é –ø–∞–º—è—Ç—å**. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø–æ–¥–∫–∞—á–∫–æ–π** (swap).

>  **Swap** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞–º—è—Ç–∏ –Ω–∞ –¥–∏—Å–∫ –∏–ª–∏ –≤ —Å–∂–∞—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –æ—Å–≤–æ–±–æ–∂–¥–∞—è RAM –¥–ª—è –±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á.

–ù–∞ Raspberry Pi –æ–±—ã—á–Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swap –Ω–∞ SD-–∫–∞—Ä—Ç–µ: –æ–Ω –∏–∑–Ω–∞—à–∏–≤–∞–µ—Ç –Ω–æ—Å–∏—Ç–µ–ª—å. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **ZRAM**.

>  **ZRAM** ‚Äî –º–æ–¥—É–ª—å —è–¥—Ä–∞, —Å–æ–∑–¥–∞—é—â–∏–π —Å–∂–∞—Ç–æ–µ swap-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –≠—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –¥–ª—è SD-–∫–∞—Ä—Ç—ã.

###  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ZRAM

```bash
sudo apt install zram-tools
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω –∞–∫—Ç–∏–≤–µ–Ω:

```bash
swapon --show
```

---

##  3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–¥—Ä–∞: vm.\* –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

Linux –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Ç–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é. –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/proc/sys/vm/` –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `sysctl`.

###  –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

* `vm.swappiness=100` ‚Äî –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è swap. –°–Ω–∏–∂–∞–π—Ç–µ –¥–æ 10‚Äì30 –¥–ª—è –∑–∞–º–µ–¥–ª–µ–Ω–∏—è –ø–æ–¥–∫–∞—á–∫–∏.
* `vm.dirty_ratio=20` ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç RAM, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å "–≥—Ä—è–∑–Ω—ã–µ" (–Ω–µ —Å–±—Ä–æ—à–µ–Ω–Ω—ã–µ) —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
* `vm.dirty_background_ratio=10` ‚Äî –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ñ–æ–Ω–æ–≤–∞—è –æ—á–∏—Å—Ç–∫–∞ dirty-—Å—Ç—Ä–∞–Ω–∏—Ü.
* `vm.vfs_cache_pressure=100` ‚Äî –∫–∞–∫ –±—ã—Å—Ç—Ä–æ —è–¥—Ä–æ –±—É–¥–µ—Ç –æ—á–∏—â–∞—Ç—å –∫–µ—à inodes –∏ dentries.

>  **vfs\_cache\_pressure** = 100 –æ–∑–Ω–∞—á–∞–µ—Ç "–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ" –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –æ—á–∏—Å—Ç–∫–µ –∫–µ—à–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –§–°, —É–º–µ–Ω—å—à–µ–Ω–∏–µ ‚Äî –∫ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–º—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—é.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ:

```bash
sudo sysctl -w vm.swappiness=20
```

–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/sysctl.conf` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤ `/etc/sysctl.d/`.

---

##  4. OOM Killer: –∫–æ–≥–¥–∞ –ø–∞–º—è—Ç–∏ —Å–æ–≤—Å–µ–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç

>  **OOM Killer (Out-of-Memory Killer)** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç "–Ω–∞–∏–º–µ–Ω–µ–µ —Ü–µ–Ω–Ω—ã–µ" –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏.

–î–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ OOM Killer –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `oom_score` –∏ `oom_score_adj`. –í—ã –º–æ–∂–µ—Ç–µ –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

```bash
echo -100 > /proc/$(pidof your_important_process)/oom_score_adj
```

–ó–Ω–∞—á–µ–Ω–∏—è:

* `-1000`: –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –æ—Ç —É–±–∏–π—Å—Ç–≤–∞
* `+1000`: —É–±–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

–°–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
cat /proc/<pid>/oom_score
```

---

##  5. Slab-–∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã –∏ –∫—ç—à —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –§–°

Linux –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤, inodes –∏ dentries, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –§–°. –≠—Ç–æ—Ç –∫—ç—à –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Slab Cache**.

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ —Ä–∞–∑–º–µ—Ä:

```bash
free -h
cat /proc/meminfo | grep -i slab
```

>  –≠—Ç–æ—Ç –∫—ç—à –ø–æ–ª–µ–∑–µ–Ω, –Ω–æ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–Ω–æ–≥–æ RAM. –°–Ω–∏–∂–∞—Ç—å –µ–≥–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**, –µ—Å–ª–∏ –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏.

---

##  6. NUMA: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ 8GB Raspberry Pi

>  Raspberry Pi **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é NUMA**, –Ω–æ –Ω–∞ –º–æ–¥–µ–ª—è—Ö —Å 8GB RAM –∏ –¥–≤—É–º—è —á–∏–ø–∞–º–∏ –ø–∞–º—è—Ç–∏ –º–æ–≥—É—Ç –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è **NUMA-–ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** –¥–æ—Å—Ç—É–ø–∞ –∫ RAM.

>  **NUMA (Non-Uniform Memory Access)** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≥–¥–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑–Ω—ã–º —É—á–∞—Å—Ç–∫–∞–º –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ ARM, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏):

* `numactl --hardware`
* `hwloc-ls`

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: —Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—ã—Å–æ–∫–æ-NUMA-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL —Å NUMA-aware –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏), –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ ARM.

---

##  7. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

* `htop` –∏–ª–∏ `top` ‚Äî –æ–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –ø–∞–º—è—Ç–∏
* `free -m` ‚Äî —Å–≤–æ–±–æ–¥–Ω–∞—è/–∑–∞–Ω—è—Ç–∞—è –ø–∞–º—è—Ç—å
* `vmstat 1` ‚Äî —Å–≤–æ–ø, –≥—Ä—è–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫—ç—à
* `dmesg | grep -i oom` ‚Äî —Å–ª–µ–¥—ã —Ä–∞–±–æ—Ç—ã OOM Killer

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

* `smem` ‚Äî –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
* `cat /proc/meminfo` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —è–¥—Ä–∞

---

## üîö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –Ω–∞ Raspberry Pi ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –±–æ—Ä—å–±–∞ –∑–∞ –º–µ–≥–∞–±–∞–π—Ç—ã, –Ω–æ –∏ —Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —è–¥—Ä–∞ Linux. Swap –∏ ZRAM —É–º–µ–Ω—å—à–∞—é—Ç –∏–∑–Ω–æ—Å SD-–∫–∞—Ä—Ç—ã, vm-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ slab –∏ OOM Killer –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –≤–Ω–µ–∑–∞–ø–Ω—ã—Ö —Å–±–æ–µ–≤. –ù–∞ —Å—Ç–∞—Ä—à–∏—Ö –º–æ–¥–µ–ª—è—Ö –ø–æ–ª–µ–∑–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å NUMA-–ø–æ–¥–æ–±–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã.

–ì—Ä–∞–º–æ—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ ‚Äî –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –¥–µ–ª–∞—é—â–∏—Ö Raspberry Pi –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∑–∞–¥–∞—á: –æ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ edge-–∫–æ–º–ø—å—é—Ç–∏–Ω–≥–∞.
